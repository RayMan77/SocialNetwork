@model PL.Models.UserPageModel
@{
	ViewBag.Title = Model.User.FullName+ "Profile";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.User.FullName Profile</h2> 

@using (Html.BeginForm("Create","Chat",FormMethod.Post))
{
	<input value="@Model.User.ID" name="id" type="hidden"/>
	<input type="submit" name="Send" value="Send a Message" />

}
@* TODO meh toto nepojde pokial nezmenim databazu *@
@*<div>*@
@*	@using (Html.BeginForm("UserPage", "User", FormMethod.Post))*@
@*	{*@
@*		@Html.TextAreaFor(m => m.NewPost.Message)*@
@*		//privacy*@
@*		<input type="submit" name="SendPost" value="Send" />*@
@**@
@**@
@*	}*@
@*</div>*@

<div>

	@foreach (var postDto in Model.Posts)
	{
		<div style="border: black solid 1px">
			<h3>

				
				@Html.ActionLink(postDto.Sender.FullName, "UserPage", "User", new { id = postDto.Sender.ID }, null)

				@if (postDto.Group != null)
				{
					<Text> sent to  </Text>

					@Html.ActionLink(postDto.Group.Name,"GroupPage", "Group", new { id = postDto.Group.ID }, null)

				}
			</h3>

			<div> @postDto.Message</div>
			
			@Html.ActionLink("Reactions", "Reactions", "Post", new { id = postDto.ID }, null)

		</div>
	}
</div>